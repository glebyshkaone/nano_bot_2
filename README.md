# üì¶ nano-bot ‚Äî Telegram-–±–æ—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Replicate)

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –Ω–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –±–æ—Ç —Å –æ–ø–ª–∞—Ç–∞–º–∏ —á–µ—Ä–µ–∑ Telegram Stars, Supabase-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –∏ –∞–¥–º–∏–Ω–∫–æ–π.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ —á–µ—Ä–µ–∑ Replicate (banana / banana_pro / flux_ultra / remove_bg)
- Telegram Stars –¥–ª—è –ø–æ–∫—É–ø–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤
- –£—á—ë—Ç –±–∞–ª–∞–Ω—Å–∞ –≤ Supabase
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–∫–Ω–æ–ø–∫–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è/—Å–ø–∏—Å–∞–Ω–∏—è)
- –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –∏ —Ç–æ–∫–µ–Ω –¥–ª—è Photoshop-–ø–ª–∞–≥–∏–Ω–∞

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```
main.py                # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
config.py              # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
core/*                 # Supabase, –±–∞–ª–∞–Ω—Å, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
user/*                 # –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
admin/*                # –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
utils/logging_config.py
```

## üîß –ó–∞–ø—É—Å–∫
1) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Python 3.11+):
```
pip install -r requirements.txt
```

2) –ó–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. `.env.example`):
```
TELEGRAM_BOT_TOKEN=
REPLICATE_API_TOKEN=
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
ADMIN_IDS=123,456
```

3) –°—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –±–æ—Ç–∞:
```
python main.py
```

## üß© –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –ë–∞–ª–∞–Ω—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `telegram_users` (–ø–æ–ª—è `id`, `balance`, `updated_at`).
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–æ–≤ –ø–∏—à—É—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ã `generations` –∏ `admin_actions`.
- –¢–æ–∫–µ–Ω—ã –¥–ª—è Photoshop —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `api_tokens` (—Ö—Ä–∞–Ω–∏—Ç—Å—è —Ö–µ—à —Ç–æ–∫–µ–Ω–∞). –ï—Å–ª–∏ —É –≤–∞—Å —Å—Ç–∞—Ä–∞—è —Å—Ö–µ–º–∞ –±–µ–∑ –ø–æ–ª–µ–π `token_hash`/`token_prefix`, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç–∫–∞—Ç–∏—Ç—Å—è –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –ø–æ–ª–µ `token`.
